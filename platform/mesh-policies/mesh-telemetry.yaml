# infrastructure/app-level/istio-config/telemetry.yaml
apiVersion: telemetry.istio.io/v1
kind: Telemetry
metadata:
  name: mesh-default
  namespace: istio-system
  annotations:
    argocd.argoproj.io/sync-wave: "-40"
spec:
  tracing:
    - providers:
        - name: jaeger
      randomSamplingPercentage: 100
      customTags:
      # This forces the host to be recorded in every trace span
        source_host:
          name: "Host"
          defaultValue: "missing-host-header"